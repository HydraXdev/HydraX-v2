╔══════════════════════════════════════════════════════════════════════╗
║                     🚨 EA DATA FLOW - SACRED DIAGRAM 🚨              ║
╚══════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────┐
│ MT5 Terminal (ForexVPS)                                             │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ BITTENBridge_TradeExecutor_ZMQ_v7.mq5 (v7.01)                  │ │
│ │                                                                 │ │
│ │ OnTick() {                                                      │ │
│ │   string tick = {"type":"tick","symbol":"EURUSD",...}          │ │
│ │   zmq_send(g_zmq_heartbeat_socket, tick, ZMQ_PUSH)            │ │
│ │ }                                                               │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                   │                                  │
│                                   │ PUSH (CLIENT)                    │
│                                   ▼                                  │
│                         134.199.204.67:5556                          │
└─────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ Network
                                    ▼
┌─────────────────────────────────────────────────────────────────────┐
│ Linux Server (Local)                                                │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ telemetry_pubbridge.py (MANDATORY BRIDGE)                       │ │
│ │                                                                 │ │
│ │ receiver = zmq.PULL                                             │ │
│ │ receiver.connect("tcp://127.0.0.1:5556")  # From EA            │ │
│ │                                                                 │ │
│ │ publisher = zmq.PUB                                             │ │
│ │ publisher.bind("tcp://*:5560")  # To Elite Guard               │ │
│ │                                                                 │ │
│ │ while True:                                                     │ │
│ │     msg = receiver.recv_json()                                  │ │
│ │     publisher.send_json(msg)  # Relay unchanged                │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                   │                                  │
│                                   │ PUB                              │
│                                   ▼                                  │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ elite_guard_with_citadel.py                                     │ │
│ │                                                                 │ │
│ │ subscriber = zmq.SUB                                            │ │
│ │ subscriber.connect("tcp://127.0.0.1:5560")                      │ │
│ │                                                                 │ │
│ │ data = subscriber.recv_json()  # {"type":"tick",...}           │ │
│ │ self.process_market_data(data)                                  │ │
│ │                                                                 │ │
│ │ if pattern_detected:                                            │ │
│ │     publisher.send_json(signal)  # Port 5557                   │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                   │                                  │
│                                   │ When signal found                │
│                                   ▼                                  │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │ webapp_server_optimized.py (Port 8888)                          │ │
│ │                                                                 │ │
│ │ POST /api/signals                                               │ │
│ │ BittenCore.process_signal()                                     │ │
│ │ → GROUP ONLY delivery to @bitten_signals                        │ │
│ └─────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════╗
║ REMEMBER: EA is CLIENT → Bridge is MANDATORY → Elite Guard SUBSCRIBES║
╚══════════════════════════════════════════════════════════════════════╝