Ly8rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tKwovL3wgICAgICAgICAgICAgICAgICAgICAgICAgIEJJVFRFTkJyaWRnZV92
M19FTkhBTkNFRC5tcTUgICAgICAgICAgICB8Ci8vfCAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIEJJVFRFTiBUcmFkaW5nIFN5c3RlbSAgIHwKLy98ICAgICAgICAgICAg
ICBFbmhhbmNlZCBFQSB3aXRoIGZ1bGwgdHdvLXdheSBjb21tdW5pY2F0aW9uICAgICAgICAgfAov
L3wgICAgICAgICAgICAgICAgICAgICBBY2NvdW50IGRhdGEsIGFkdmFuY2VkIHRyYWRlIG1hbmFn
ZW1lbnQgICAgICB8Ci8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKI3Byb3BlcnR5IHN0cmljdAojcHJvcGVydHkgdmVy
c2lvbiAgICIzLjAiCiNwcm9wZXJ0eSBkZXNjcmlwdGlvbiAiQklUVEVOIEVuaGFuY2VkIEJyaWRn
ZSB2MyAtIEZ1bGwgYWNjb3VudCBpbnRlZ3JhdGlvbiAmIGFkdmFuY2VkIG1hbmFnZW1lbnQiCgov
LyBJbnB1dCBwYXJhbWV0ZXJzCmlucHV0IHN0cmluZyBJbnN0cnVjdGlvbkZpbGUgPSAiYml0dGVu
X2luc3RydWN0aW9uc19zZWN1cmUudHh0IjsgIC8vIFRyYWRlIGluc3RydWN0aW9ucwppbnB1dCBz
dHJpbmcgQ29tbWFuZEZpbGUgPSAiYml0dGVuX2NvbW1hbmRzX3NlY3VyZS50eHQiOyAgICAgICAg
IC8vIE1hbmFnZW1lbnQgY29tbWFuZHMKaW5wdXQgc3RyaW5nIFJlc3VsdEZpbGUgPSAiYml0dGVu
X3Jlc3VsdHNfc2VjdXJlLnR4dCI7ICAgICAgICAgICAvLyBSZXN1bHRzCmlucHV0IHN0cmluZyBT
dGF0dXNGaWxlID0gImJpdHRlbl9zdGF0dXNfc2VjdXJlLnR4dCI7ICAgICAgICAgICAgLy8gU3Rh
dHVzIHVwZGF0ZXMKaW5wdXQgc3RyaW5nIFBvc2l0aW9uc0ZpbGUgPSAiYml0dGVuX3Bvc2l0aW9u
c19zZWN1cmUudHh0IjsgICAgICAvLyBBY3RpdmUgcG9zaXRpb25zCmlucHV0IHN0cmluZyBBY2Nv
dW50RmlsZSA9ICJiaXR0ZW5fYWNjb3VudF9zZWN1cmUudHh0IjsgICAgICAgICAgLy8gQWNjb3Vu
dCBkYXRhCmlucHV0IHN0cmluZyBNYXJrZXRGaWxlID0gImJpdHRlbl9tYXJrZXRfc2VjdXJlLnR4
dCI7ICAgICAgICAgICAgLy8gTWFya2V0IGRhdGEKaW5wdXQgaW50ICAgIENoZWNrSW50ZXJ2YWxN
cyA9IDEwMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGludGVydmFsICg1
MC0xMDAwKQppbnB1dCBpbnQgICAgTWFnaWNOdW1iZXIgPSAyMDI1MDYyNjsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgLy8gRUEgaWRlbnRpZmljYXRpb24KCi8vIEFkdmFuY2VkIGZlYXR1cmVz
CmlucHV0IGJvb2wgICBFbmFibGVUcmFpbGluZyA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAvLyBFbmFibGUgdHJhaWxpbmcgc3RvcHMKaW5wdXQgYm9vbCAgIEVuYWJsZVBhcnRp
YWxDbG9zZSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBwYXJ0aWFs
IGNsb3NlCmlucHV0IGJvb2wgICBFbmFibGVCcmVha0V2ZW4gPSB0cnVlOyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAvLyBFbmFibGUgYnJlYWstZXZlbgppbnB1dCBib29sICAgRW5hYmxlTXVs
dGlUUCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIG11bHRp
LXN0ZXAgVFAKaW5wdXQgZG91YmxlIFBhcnRpYWxDbG9zZVBlcmNlbnQgPSA1MC4wOyAgICAgICAg
ICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgcGFydGlhbCBjbG9zZSAlCmlucHV0IGludCAgICBC
cmVha0V2ZW5Qb2ludHMgPSAyMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQb2lu
dHMgaW4gcHJvZml0IHRvIHRyaWdnZXIgQkUKaW5wdXQgaW50ICAgIEJyZWFrRXZlbkJ1ZmZlciA9
IDU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvaW50cyBhYm92ZSBlbnRyeSBm
b3IgQkUKCi8vIFJpc2sgbWFuYWdlbWVudAppbnB1dCBkb3VibGUgTWF4TG90U2l6ZSA9IDEwLjA7
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF4aW11bSBhbGxvd2VkIGxvdCBz
aXplCmlucHV0IGRvdWJsZSBNYXhSaXNrUGVyY2VudCA9IDUuMDsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAvLyBNYXhpbXVtIHJpc2sgcGVyIHRyYWRlICglKQppbnB1dCBpbnQgICAgTWF4
RGFpbHlUcmFkZXMgPSA1MDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF4aW11
bSB0cmFkZXMgcGVyIGRheQppbnB1dCBpbnQgICAgTWF4Q29uY3VycmVudFRyYWRlcyA9IDEwOyAg
ICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF4aW11bSBjb25jdXJyZW50IHBvc2l0aW9ucwoK
Ly8gR2xvYmFsIHZhcmlhYmxlcwpkYXRldGltZSBsYXN0SGVhcnRiZWF0ID0gMDsKZGF0ZXRpbWUg
bGFzdEFjY291bnRVcGRhdGUgPSAwOwpkYXRldGltZSBsYXN0TWFya2V0VXBkYXRlID0gMDsKaW50
IGZhaWxlZEF0dGVtcHRzID0gMDsKaW50IGRhaWx5VHJhZGVDb3VudCA9IDA7CgovLyBQb3NpdGlv
biB0cmFja2luZyB3aXRoIGVuaGFuY2VkIGRhdGEKc3RydWN0IEVuaGFuY2VkUG9zaXRpb24gewog
ICAgdWxvbmcgdGlja2V0OwogICAgc3RyaW5nIHN5bWJvbDsKICAgIEVOVU1fUE9TSVRJT05fVFlQ
RSB0eXBlOwogICAgZG91YmxlIHZvbHVtZTsKICAgIGRvdWJsZSBvcGVuUHJpY2U7CiAgICBkb3Vi
bGUgc2w7CiAgICBkb3VibGUgdHA7CiAgICBkb3VibGUgcHJvZml0OwogICAgZG91YmxlIHN3YXA7
CiAgICBkb3VibGUgY29tbWlzc2lvbjsKICAgIGRhdGV0aW1lIG9wZW5UaW1lOwogICAgc3RyaW5n
IGNvbW1lbnQ7CiAgICBib29sIGJyZWFrRXZlblNldDsKICAgIGJvb2wgcGFydGlhbENsb3NlZDsK
ICAgIGRvdWJsZSBpbml0aWFsVm9sdW1lOwogICAgaW50IHBhcnRpYWxDbG9zZVN0ZXA7Cn07CgpF
bmhhbmNlZFBvc2l0aW9uIHBvc2l0aW9uc1tdOwoKLy8gTXVsdGktc3RlcCBUUCB0cmFja2luZwpz
dHJ1Y3QgTXVsdGlUUExldmVsIHsKICAgIHVsb25nIHRpY2tldDsKICAgIGRvdWJsZSB0cDE7CiAg
ICBkb3VibGUgdHAyOwogICAgZG91YmxlIHRwMzsKICAgIGRvdWJsZSB2b2x1bWUxOwogICAgZG91
YmxlIHZvbHVtZTI7CiAgICBkb3VibGUgdm9sdW1lMzsKICAgIGludCBjdXJyZW50U3RlcDsKfTsK
Ck11bHRpVFBMZXZlbCBtdWx0aVRQUG9zaXRpb25zW107CgovLystLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCmludCBPbklu
aXQoKQp7CiAgICBQcmludCgiPT09IEJJVFRFTiBFbmhhbmNlZCBCcmlkZ2UgdjMuMCBJbml0aWFs
aXplZCA9PT0iKTsKICAgIFByaW50KCJUd28td2F5IGNvbW11bmljYXRpb24gZW5hYmxlZCIpOwog
ICAgUHJpbnQoIkFjY291bnQgcmVwb3J0aW5nOiBZRVMiKTsKICAgIFByaW50KCJBZHZhbmNlZCB0
cmFkZSBtYW5hZ2VtZW50OiBZRVMiKTsKICAgIAogICAgLy8gV3JpdGUgaW5pdGlhbCBzdGF0dXMK
ICAgIFdyaXRlU3RhdHVzKCJpbml0aWFsaXplZCIsICJCSVRURU4gRW5oYW5jZWQgQnJpZGdlIHYz
IHJlYWR5Iik7CiAgICBXcml0ZUFjY291bnREYXRhKCk7CiAgICAKICAgIC8vIFNldCB0aW1lciBm
b3IgcmFwaWQgcG9sbGluZwogICAgRXZlbnRTZXRNaWxsaXNlY29uZFRpbWVyKENoZWNrSW50ZXJ2
YWxNcyk7CiAgICAKICAgIHJldHVybiBJTklUX1NVQ0NFRURFRDsKfQoKLy8rLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp2
b2lkIE9uRGVpbml0KGNvbnN0IGludCByZWFzb24pCnsKICAgIEV2ZW50S2lsbFRpbWVyKCk7CiAg
ICBXcml0ZVN0YXR1cygic2h1dGRvd24iLCAiQnJpZGdlIGRpc2Nvbm5lY3RlZCIpOwp9CgovLyst
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0rCnZvaWQgT25UaW1lcigpCnsKICAgIC8vIEhlYXJ0YmVhdCBldmVyeSA1IHNlY29u
ZHMKICAgIGlmIChUaW1lQ3VycmVudCgpIC0gbGFzdEhlYXJ0YmVhdCA+PSA1KQogICAgewogICAg
ICAgIFdyaXRlSGVhcnRiZWF0KCk7CiAgICAgICAgbGFzdEhlYXJ0YmVhdCA9IFRpbWVDdXJyZW50
KCk7CiAgICB9CiAgICAKICAgIC8vIFVwZGF0ZSBhY2NvdW50IGRhdGEgZXZlcnkgMiBzZWNvbmRz
CiAgICBpZiAoVGltZUN1cnJlbnQoKSAtIGxhc3RBY2NvdW50VXBkYXRlID49IDIpCiAgICB7CiAg
ICAgICAgV3JpdGVBY2NvdW50RGF0YSgpOwogICAgICAgIGxhc3RBY2NvdW50VXBkYXRlID0gVGlt
ZUN1cnJlbnQoKTsKICAgIH0KICAgIAogICAgLy8gVXBkYXRlIG1hcmtldCBkYXRhIGV2ZXJ5IHNl
Y29uZAogICAgaWYgKFRpbWVDdXJyZW50KCkgLSBsYXN0TWFya2V0VXBkYXRlID49IDEpCiAgICB7
CiAgICAgICAgV3JpdGVNYXJrZXREYXRhKCk7CiAgICAgICAgVXBkYXRlUG9zaXRpb25zKCk7CiAg
ICAgICAgQ2hlY2tCcmVha0V2ZW4oKTsKICAgICAgICBDaGVja011bHRpVFAoKTsKICAgICAgICBV
cGRhdGVUcmFpbGluZ1N0b3BzKCk7CiAgICAgICAgbGFzdE1hcmtldFVwZGF0ZSA9IFRpbWVDdXJy
ZW50KCk7CiAgICB9CiAgICAKICAgIC8vIENoZWNrIGZvciBuZXcgaW5zdHJ1Y3Rpb25zCiAgICBQ
cm9jZXNzSW5zdHJ1Y3Rpb25zKCk7CiAgICBQcm9jZXNzQ29tbWFuZHMoKTsKfQoKLy8rLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tKwp2b2lkIFdyaXRlQWNjb3VudERhdGEoKQp7CiAgICBpbnQgaGFuZGxlID0gRmlsZU9wZW4o
QWNjb3VudEZpbGUsIEZJTEVfV1JJVEUgfCBGSUxFX1RYVCB8IEZJTEVfQU5TSSk7CiAgICBpZiAo
aGFuZGxlID09IElOVkFMSURfSEFORExFKSByZXR1cm47CiAgICAKICAgIC8vIEdhdGhlciBjb21w
cmVoZW5zaXZlIGFjY291bnQgZGF0YQogICAgZG91YmxlIGJhbGFuY2UgPSBBY2NvdW50SW5mb0Rv
dWJsZShBQ0NPVU5UX0JBTEFOQ0UpOwogICAgZG91YmxlIGVxdWl0eSA9IEFjY291bnRJbmZvRG91
YmxlKEFDQ09VTlRfRVFVSVRZKTsKICAgIGRvdWJsZSBtYXJnaW4gPSBBY2NvdW50SW5mb0RvdWJs
ZShBQ0NPVU5UX01BUkdJTik7CiAgICBkb3VibGUgZnJlZU1hcmdpbiA9IEFjY291bnRJbmZvRG91
YmxlKEFDQ09VTlRfTUFSR0lOX0ZSRUUpOwogICAgZG91YmxlIG1hcmdpbkxldmVsID0gbWFyZ2lu
ID4gMCA/IChlcXVpdHkgLyBtYXJnaW4pICogMTAwIDogMDsKICAgIGRvdWJsZSBwcm9maXQgPSBB
Y2NvdW50SW5mb0RvdWJsZShBQ0NPVU5UX1BST0ZJVCk7CiAgICBpbnQgbGV2ZXJhZ2UgPSAoaW50
KUFjY291bnRJbmZvSW50ZWdlcihBQ0NPVU5UX0xFVkVSQUdFKTsKICAgIHN0cmluZyBjdXJyZW5j
eSA9IEFjY291bnRJbmZvU3RyaW5nKEFDQ09VTlRfQ1VSUkVOQ1kpOwogICAgCiAgICAvLyBDYWxj
dWxhdGUgZGFpbHkgUCZMCiAgICBkb3VibGUgZGFpbHlQTCA9IENhbGN1bGF0ZURhaWx5UEwoKTsK
ICAgIGRvdWJsZSBkYWlseVBMUGVyY2VudCA9IGJhbGFuY2UgPiAwID8gKGRhaWx5UEwgLyBiYWxh
bmNlKSAqIDEwMCA6IDA7CiAgICAKICAgIC8vIENvdW50IHBvc2l0aW9ucwogICAgaW50IGJ1eVBv
c2l0aW9ucyA9IDAsIHNlbGxQb3NpdGlvbnMgPSAwOwogICAgZG91YmxlIGJ1eVZvbHVtZSA9IDAs
IHNlbGxWb2x1bWUgPSAwOwogICAgCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEFycmF5U2l6ZShw
b3NpdGlvbnMpOyBpKyspCiAgICB7CiAgICAgICAgaWYgKHBvc2l0aW9uc1tpXS50eXBlID09IFBP
U0lUSU9OX1RZUEVfQlVZKQogICAgICAgIHsKICAgICAgICAgICAgYnV5UG9zaXRpb25zKys7CiAg
ICAgICAgICAgIGJ1eVZvbHVtZSArPSBwb3NpdGlvbnNbaV0udm9sdW1lOwogICAgICAgIH0KICAg
ICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBzZWxsUG9zaXRpb25zKys7CiAgICAgICAg
ICAgIHNlbGxWb2x1bWUgKz0gcG9zaXRpb25zW2ldLnZvbHVtZTsKICAgICAgICB9CiAgICB9CiAg
ICAKICAgIC8vIFdyaXRlIEpTT04gZm9ybWF0CiAgICBzdHJpbmcganNvbiA9IFN0cmluZ0Zvcm1h
dCgKICAgICAgICAie1widGltZXN0YW1wXCI6XCIlc1wiLFwiYmFsYW5jZVwiOiUuMmYsXCJlcXVp
dHlcIjolLjJmLCIgKwogICAgICAgICJcIm1hcmdpblwiOiUuMmYsXCJmcmVlX21hcmdpblwiOiUu
MmYsXCJtYXJnaW5fbGV2ZWxcIjolLjJmLCIgKwogICAgICAgICJcInByb2ZpdFwiOiUuMmYsXCJs
ZXZlcmFnZVwiOiVkLFwiY3VycmVuY3lcIjpcIiVzXCIsIiArCiAgICAgICAgIlwiZGFpbHlfcGxc
IjolLjJmLFwiZGFpbHlfcGxfcGVyY2VudFwiOiUuMmYsIiArCiAgICAgICAgIlwicG9zaXRpb25z
XCI6e1widG90YWxcIjolZCxcImJ1eVwiOiVkLFwic2VsbFwiOiVkLCIgKwogICAgICAgICJcImJ1
eV92b2x1bWVcIjolLjJmLFwic2VsbF92b2x1bWVcIjolLjJmfSwiICsKICAgICAgICAiXCJzZXJ2
ZXJfdGltZVwiOlwiJXNcIn0iLAogICAgICAgIFRpbWVUb1N0cmluZyhUaW1lQ3VycmVudCgpLCBU
SU1FX0RBVEUgfCBUSU1FX1NFQ09ORFMpLAogICAgICAgIGJhbGFuY2UsIGVxdWl0eSwgbWFyZ2lu
LCBmcmVlTWFyZ2luLCBtYXJnaW5MZXZlbCwKICAgICAgICBwcm9maXQsIGxldmVyYWdlLCBjdXJy
ZW5jeSwKICAgICAgICBkYWlseVBMLCBkYWlseVBMUGVyY2VudCwKICAgICAgICBBcnJheVNpemUo
cG9zaXRpb25zKSwgYnV5UG9zaXRpb25zLCBzZWxsUG9zaXRpb25zLAogICAgICAgIGJ1eVZvbHVt
ZSwgc2VsbFZvbHVtZSwKICAgICAgICBUaW1lVG9TdHJpbmcoVGltZUN1cnJlbnQoKSwgVElNRV9E
QVRFIHwgVElNRV9TRUNPTkRTKQogICAgKTsKICAgIAogICAgRmlsZVdyaXRlU3RyaW5nKGhhbmRs
ZSwganNvbik7CiAgICBGaWxlQ2xvc2UoaGFuZGxlKTsKfQoKLy8rLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp2b2lkIFdy
aXRlTWFya2V0RGF0YSgpCnsKICAgIGludCBoYW5kbGUgPSBGaWxlT3BlbihNYXJrZXRGaWxlLCBG
SUxFX1dSSVRFIHwgRklMRV9UWFQgfCBGSUxFX0FOU0kpOwogICAgaWYgKGhhbmRsZSA9PSBJTlZB
TElEX0hBTkRMRSkgcmV0dXJuOwogICAgCiAgICAvLyBHZXQgbWFya2V0IGRhdGEgZm9yIG1ham9y
IHBhaXJzCiAgICBzdHJpbmcgc3ltYm9sc1tdID0geyJFVVJVU0QiLCAiR0JQVVNEIiwgIlVTREpQ
WSIsICJYQVVVU0QiLCAiQlRDVVNEIn07CiAgICBzdHJpbmcganNvbiA9ICJ7XCJ0aW1lc3RhbXBc
IjpcIiIgKyBUaW1lVG9TdHJpbmcoVGltZUN1cnJlbnQoKSwgVElNRV9EQVRFIHwgVElNRV9TRUNP
TkRTKSArICJcIixcInBhaXJzXCI6eyI7CiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgQXJy
YXlTaXplKHN5bWJvbHMpOyBpKyspCiAgICB7CiAgICAgICAgaWYgKFN5bWJvbEluZm9JbnRlZ2Vy
KHN5bWJvbHNbaV0sIFNZTUJPTF9TRUxFQ1QpKQogICAgICAgIHsKICAgICAgICAgICAgZG91Ymxl
IGJpZCA9IFN5bWJvbEluZm9Eb3VibGUoc3ltYm9sc1tpXSwgU1lNQk9MX0JJRCk7CiAgICAgICAg
ICAgIGRvdWJsZSBhc2sgPSBTeW1ib2xJbmZvRG91YmxlKHN5bWJvbHNbaV0sIFNZTUJPTF9BU0sp
OwogICAgICAgICAgICBkb3VibGUgc3ByZWFkID0gKGFzayAtIGJpZCkgLyBTeW1ib2xJbmZvRG91
YmxlKHN5bWJvbHNbaV0sIFNZTUJPTF9QT0lOVCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBp
ZiAoaSA+IDApIGpzb24gKz0gIiwiOwogICAgICAgICAgICBqc29uICs9IFN0cmluZ0Zvcm1hdCgi
XCIlc1wiOntcImJpZFwiOiUuNWYsXCJhc2tcIjolLjVmLFwic3ByZWFkXCI6JS4xZn0iLAogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHNbaV0sIGJpZCwgYXNrLCBzcHJlYWQp
OwogICAgICAgIH0KICAgIH0KICAgIAogICAganNvbiArPSAifX0iOwogICAgCiAgICBGaWxlV3Jp
dGVTdHJpbmcoaGFuZGxlLCBqc29uKTsKICAgIEZpbGVDbG9zZShoYW5kbGUpOwp9CgovLystLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0rCnZvaWQgUHJvY2Vzc0luc3RydWN0aW9ucygpCnsKICAgIGlmICghRmlsZUlzRXhpc3Qo
SW5zdHJ1Y3Rpb25GaWxlKSkgcmV0dXJuOwogICAgCiAgICBpbnQgZmlsZUhhbmRsZSA9IEZpbGVP
cGVuKEluc3RydWN0aW9uRmlsZSwgRklMRV9SRUFEIHwgRklMRV9UWFQgfCBGSUxFX0FOU0kpOwog
ICAgaWYgKGZpbGVIYW5kbGUgPT0gSU5WQUxJRF9IQU5ETEUpIHJldHVybjsKICAgIAogICAgc3Ry
aW5nIGNvbnRlbnQgPSAiIjsKICAgIHdoaWxlICghRmlsZUlzRW5kaW5nKGZpbGVIYW5kbGUpKQog
ICAgewogICAgICAgIGNvbnRlbnQgKz0gRmlsZVJlYWRTdHJpbmcoZmlsZUhhbmRsZSk7CiAgICB9
CiAgICBGaWxlQ2xvc2UoZmlsZUhhbmRsZSk7CiAgICAKICAgIC8vIEVuaGFuY2VkIEpTT04gcGFy
c2luZyBmb3IgbmV3IGluc3RydWN0aW9uIGZvcm1hdAogICAgaWYgKFN0cmluZ0ZpbmQoY29udGVu
dCwgInsiKSA+PSAwKQogICAgewogICAgICAgIC8vIEpTT04gZm9ybWF0IGluc3RydWN0aW9uCiAg
ICAgICAgUHJvY2Vzc0pTT05JbnN0cnVjdGlvbihjb250ZW50KTsKICAgIH0KICAgIGVsc2UKICAg
IHsKICAgICAgICAvLyBMZWdhY3kgQ1NWIGZvcm1hdAogICAgICAgIFByb2Nlc3NDU1ZJbnN0cnVj
dGlvbihjb250ZW50KTsKICAgIH0KICAgIAogICAgRmlsZURlbGV0ZShJbnN0cnVjdGlvbkZpbGUp
Owp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0rCnZvaWQgUHJvY2Vzc0pTT05JbnN0cnVjdGlvbihzdHJpbmcganNv
bikKewogICAgLy8gRXh0cmFjdCBmaWVsZHMgZnJvbSBKU09OCiAgICBzdHJpbmcgaWQgPSBFeHRy
YWN0U3RyaW5nKGpzb24sICJpZCIpOwogICAgc3RyaW5nIHN5bWJvbCA9IEV4dHJhY3RTdHJpbmco
anNvbiwgInN5bWJvbCIpOwogICAgc3RyaW5nIGRpcmVjdGlvbiA9IEV4dHJhY3RTdHJpbmcoanNv
biwgImRpcmVjdGlvbiIpOwogICAgZG91YmxlIHZvbHVtZSA9IEV4dHJhY3REb3VibGUoanNvbiwg
InZvbHVtZSIpOwogICAgZG91YmxlIHNsID0gRXh0cmFjdERvdWJsZShqc29uLCAic2wiKTsKICAg
IGRvdWJsZSB0cCA9IEV4dHJhY3REb3VibGUoanNvbiwgInRwIik7CiAgICBzdHJpbmcgY29tbWVu
dCA9IEV4dHJhY3RTdHJpbmcoanNvbiwgImNvbW1lbnQiKTsKICAgIAogICAgLy8gTkVXOiBBZHZh
bmNlZCBmZWF0dXJlcwogICAgYm9vbCB1c2VCcmVha0V2ZW4gPSBFeHRyYWN0Qm9vbChqc29uLCAi
YnJlYWtfZXZlbiIsIEVuYWJsZUJyZWFrRXZlbik7CiAgICBib29sIHVzZVRyYWlsaW5nID0gRXh0
cmFjdEJvb2woanNvbiwgInRyYWlsaW5nIiwgRW5hYmxlVHJhaWxpbmcpOwogICAgZG91YmxlIHBh
cnRpYWxQZXJjZW50ID0gRXh0cmFjdERvdWJsZShqc29uLCAicGFydGlhbF9jbG9zZSIsIFBhcnRp
YWxDbG9zZVBlcmNlbnQpOwogICAgCiAgICAvLyBORVc6IE11bHRpLXN0ZXAgVFAKICAgIGRvdWJs
ZSB0cDEgPSBFeHRyYWN0RG91YmxlKGpzb24sICJ0cDEiLCB0cCk7CiAgICBkb3VibGUgdHAyID0g
RXh0cmFjdERvdWJsZShqc29uLCAidHAyIiwgMCk7CiAgICBkb3VibGUgdHAzID0gRXh0cmFjdERv
dWJsZShqc29uLCAidHAzIiwgMCk7CiAgICBkb3VibGUgdm9sdW1lMSA9IEV4dHJhY3REb3VibGUo
anNvbiwgInZvbHVtZTEiLCAzMCk7ICAvLyAzMCUgYXQgVFAxCiAgICBkb3VibGUgdm9sdW1lMiA9
IEV4dHJhY3REb3VibGUoanNvbiwgInZvbHVtZTIiLCAzMCk7ICAvLyAzMCUgYXQgVFAyCiAgICBk
b3VibGUgdm9sdW1lMyA9IEV4dHJhY3REb3VibGUoanNvbiwgInZvbHVtZTMiLCA0MCk7ICAvLyA0
MCUgYXQgVFAzCiAgICAKICAgIC8vIE5FVzogUmlzay1iYXNlZCBsb3QgY2FsY3VsYXRpb24KICAg
IGJvb2wgdXNlUmlza1BlcmNlbnQgPSBFeHRyYWN0Qm9vbChqc29uLCAidXNlX3Jpc2tfcGVyY2Vu
dCIsIGZhbHNlKTsKICAgIGRvdWJsZSByaXNrUGVyY2VudCA9IEV4dHJhY3REb3VibGUoanNvbiwg
InJpc2tfcGVyY2VudCIsIDIuMCk7CiAgICAKICAgIC8vIENhbGN1bGF0ZSBsb3Qgc2l6ZSBiYXNl
ZCBvbiByaXNrIGlmIHJlcXVlc3RlZAogICAgaWYgKHVzZVJpc2tQZXJjZW50ICYmIHNsID4gMCkK
ICAgIHsKICAgICAgICB2b2x1bWUgPSBDYWxjdWxhdGVMb3RGcm9tUmlzayhzeW1ib2wsIGRpcmVj
dGlvbiwgc2wsIHJpc2tQZXJjZW50KTsKICAgIH0KICAgIAogICAgLy8gRXhlY3V0ZSB0cmFkZQog
ICAgYm9vbCBzdWNjZXNzID0gRXhlY3V0ZUVuaGFuY2VkVHJhZGUoaWQsIHN5bWJvbCwgZGlyZWN0
aW9uLCB2b2x1bWUsIHNsLCB0cCwgY29tbWVudCk7CiAgICAKICAgIGlmIChzdWNjZXNzICYmIEVu
YWJsZU11bHRpVFAgJiYgKHRwMiA+IDAgfHwgdHAzID4gMCkpCiAgICB7CiAgICAgICAgLy8gU2V0
IHVwIG11bHRpLXN0ZXAgVFAKICAgICAgICB1bG9uZyB0aWNrZXQgPSBHZXRMYXN0VGlja2V0KCk7
CiAgICAgICAgQWRkTXVsdGlUUFBvc2l0aW9uKHRpY2tldCwgdHAxLCB0cDIsIHRwMywgdm9sdW1l
MSwgdm9sdW1lMiwgdm9sdW1lMyk7CiAgICB9Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKZG91YmxlIENhbGN1
bGF0ZUxvdEZyb21SaXNrKHN0cmluZyBzeW1ib2wsIHN0cmluZyBkaXJlY3Rpb24sIGRvdWJsZSBz
bCwgZG91YmxlIHJpc2tQZXJjZW50KQp7CiAgICBkb3VibGUgYmFsYW5jZSA9IEFjY291bnRJbmZv
RG91YmxlKEFDQ09VTlRfQkFMQU5DRSk7CiAgICBkb3VibGUgcmlza0Ftb3VudCA9IGJhbGFuY2Ug
KiAocmlza1BlcmNlbnQgLyAxMDAuMCk7CiAgICAKICAgIGRvdWJsZSBwcmljZSA9IChkaXJlY3Rp
b24gPT0gIkJVWSIpID8gCiAgICAgICAgICAgICAgICAgICBTeW1ib2xJbmZvRG91YmxlKHN5bWJv
bCwgU1lNQk9MX0FTSykgOiAKICAgICAgICAgICAgICAgICAgIFN5bWJvbEluZm9Eb3VibGUoc3lt
Ym9sLCBTWU1CT0xfQklEKTsKICAgIAogICAgZG91YmxlIHBvaW50ID0gU3ltYm9sSW5mb0RvdWJs
ZShzeW1ib2wsIFNZTUJPTF9QT0lOVCk7CiAgICBkb3VibGUgdGlja1ZhbHVlID0gU3ltYm9sSW5m
b0RvdWJsZShzeW1ib2wsIFNZTUJPTF9UUkFERV9USUNLX1ZBTFVFKTsKICAgIAogICAgaWYgKHBv
aW50ID09IDAgfHwgdGlja1ZhbHVlID09IDApIHJldHVybiBTeW1ib2xJbmZvRG91YmxlKHN5bWJv
bCwgU1lNQk9MX1ZPTFVNRV9NSU4pOwogICAgCiAgICBkb3VibGUgc3RvcFBvaW50cyA9IE1hdGhB
YnMocHJpY2UgLSBzbCkgLyBwb2ludDsKICAgIGRvdWJsZSBsb3RTaXplID0gcmlza0Ftb3VudCAv
IChzdG9wUG9pbnRzICogdGlja1ZhbHVlKTsKICAgIAogICAgLy8gUm91bmQgdG8gbG90IHN0ZXAK
ICAgIGRvdWJsZSBsb3RTdGVwID0gU3ltYm9sSW5mb0RvdWJsZShzeW1ib2wsIFNZTUJPTF9WT0xV
TUVfU1RFUCk7CiAgICBsb3RTaXplID0gTWF0aFJvdW5kKGxvdFNpemUgLyBsb3RTdGVwKSAqIGxv
dFN0ZXA7CiAgICAKICAgIC8vIEFwcGx5IGxpbWl0cwogICAgZG91YmxlIG1pbkxvdCA9IFN5bWJv
bEluZm9Eb3VibGUoc3ltYm9sLCBTWU1CT0xfVk9MVU1FX01JTik7CiAgICBkb3VibGUgbWF4TG90
ID0gTWF0aE1pbihTeW1ib2xJbmZvRG91YmxlKHN5bWJvbCwgU1lNQk9MX1ZPTFVNRV9NQVgpLCBN
YXhMb3RTaXplKTsKICAgIAogICAgcmV0dXJuIE1hdGhNYXgobWluTG90LCBNYXRoTWluKGxvdFNp
emUsIG1heExvdCkpOwp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnZvaWQgUHJvY2Vzc0NvbW1hbmRzKCkKewog
ICAgaWYgKCFGaWxlSXNFeGlzdChDb21tYW5kRmlsZSkpIHJldHVybjsKICAgIAogICAgaW50IGZp
bGVIYW5kbGUgPSBGaWxlT3BlbihDb21tYW5kRmlsZSwgRklMRV9SRUFEIHwgRklMRV9UWFQgfCBG
SUxFX0FOU0kpOwogICAgaWYgKGZpbGVIYW5kbGUgPT0gSU5WQUxJRF9IQU5ETEUpIHJldHVybjsK
ICAgIAogICAgc3RyaW5nIGNvbW1hbmQgPSAiIjsKICAgIHdoaWxlICghRmlsZUlzRW5kaW5nKGZp
bGVIYW5kbGUpKQogICAgewogICAgICAgIGNvbW1hbmQgKz0gRmlsZVJlYWRTdHJpbmcoZmlsZUhh
bmRsZSk7CiAgICB9CiAgICBGaWxlQ2xvc2UoZmlsZUhhbmRsZSk7CiAgICAKICAgIC8vIEVuaGFu
Y2VkIGNvbW1hbmQgcHJvY2Vzc2luZwogICAgc3RyaW5nIGFjdGlvbiA9IEV4dHJhY3RTdHJpbmco
Y29tbWFuZCwgImFjdGlvbiIpOwogICAgCiAgICBpZiAoYWN0aW9uID09ICJtb2RpZnkiKQogICAg
ICAgIFByb2Nlc3NNb2RpZnlDb21tYW5kKGNvbW1hbmQpOwogICAgZWxzZSBpZiAoYWN0aW9uID09
ICJjbG9zZV9wYXJ0aWFsIikKICAgICAgICBQcm9jZXNzRW5oYW5jZWRQYXJ0aWFsQ2xvc2UoY29t
bWFuZCk7CiAgICBlbHNlIGlmIChhY3Rpb24gPT0gInRyYWlsIikKICAgICAgICBQcm9jZXNzVHJh
aWxDb21tYW5kKGNvbW1hbmQpOwogICAgZWxzZSBpZiAoYWN0aW9uID09ICJjbG9zZSIpCiAgICAg
ICAgUHJvY2Vzc0Nsb3NlQ29tbWFuZChjb21tYW5kKTsKICAgIGVsc2UgaWYgKGFjdGlvbiA9PSAi
YnJlYWtfZXZlbiIpCiAgICAgICAgUHJvY2Vzc0JyZWFrRXZlbkNvbW1hbmQoY29tbWFuZCk7CiAg
ICBlbHNlIGlmIChhY3Rpb24gPT0gInNjYWxlX291dCIpCiAgICAgICAgUHJvY2Vzc1NjYWxlT3V0
Q29tbWFuZChjb21tYW5kKTsKICAgIAogICAgRmlsZURlbGV0ZShDb21tYW5kRmlsZSk7Cn0KCi8v
Ky0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLSsKdm9pZCBQcm9jZXNzRW5oYW5jZWRQYXJ0aWFsQ2xvc2Uoc3RyaW5nIGNvbW1h
bmQpCnsKICAgIHVsb25nIHRpY2tldCA9ICh1bG9uZylFeHRyYWN0RG91YmxlKGNvbW1hbmQsICJ0
aWNrZXQiKTsKICAgIGRvdWJsZSBwZXJjZW50ID0gRXh0cmFjdERvdWJsZShjb21tYW5kLCAicGVy
Y2VudCIsIDUwLjApOwogICAgCiAgICBpZiAoIVBvc2l0aW9uU2VsZWN0QnlUaWNrZXQodGlja2V0
KSkgcmV0dXJuOwogICAgCiAgICBkb3VibGUgY3VycmVudFZvbHVtZSA9IFBvc2l0aW9uR2V0RG91
YmxlKFBPU0lUSU9OX1ZPTFVNRSk7CiAgICBkb3VibGUgY2xvc2VWb2x1bWUgPSBOb3JtYWxpemVE
b3VibGUoY3VycmVudFZvbHVtZSAqIChwZXJjZW50IC8gMTAwLjApLCAyKTsKICAgIAogICAgLy8g
RW5zdXJlIG1pbmltdW0gbG90CiAgICBkb3VibGUgbWluTG90ID0gU3ltYm9sSW5mb0RvdWJsZShQ
b3NpdGlvbkdldFN0cmluZyhQT1NJVElPTl9TWU1CT0wpLCBTWU1CT0xfVk9MVU1FX01JTik7CiAg
ICBpZiAoY2xvc2VWb2x1bWUgPCBtaW5Mb3QpIGNsb3NlVm9sdW1lID0gbWluTG90OwogICAgCiAg
ICAvLyBEb24ndCBjbG9zZSBtb3JlIHRoYW4gYXZhaWxhYmxlCiAgICBpZiAoY2xvc2VWb2x1bWUg
Pj0gY3VycmVudFZvbHVtZSkgY2xvc2VWb2x1bWUgPSBjdXJyZW50Vm9sdW1lIC0gbWluTG90Owog
ICAgCiAgICBpZiAoY2xvc2VWb2x1bWUgPiAwKQogICAgewogICAgICAgIE1xbFRyYWRlIHRyYWRl
OwogICAgICAgIGlmICh0cmFkZS5Qb3NpdGlvbkNsb3NlUGFydGlhbCh0aWNrZXQsIGNsb3NlVm9s
dW1lKSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiB0cmFja2luZwog
ICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IEFycmF5U2l6ZShwb3NpdGlvbnMpOyBpKysp
CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnNbaV0udGlja2V0ID09
IHRpY2tldCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnNb
aV0ucGFydGlhbENsb3NlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zW2ld
LnBhcnRpYWxDbG9zZVN0ZXArKzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAg
ICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGVTdGF0
dXMoInBhcnRpYWxfY2xvc2Vfc3VjY2VzcyIsIAogICAgICAgICAgICAgICAgICAgICAgIFN0cmlu
Z0Zvcm1hdCgiQ2xvc2VkICUuMGYlJSAoJS4yZiBsb3RzKSBvZiBwb3NpdGlvbiAlZCIsIAogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnQsIGNsb3NlVm9sdW1lLCB0aWNr
ZXQpKTsKICAgICAgICB9CiAgICB9Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9pZCBQcm9jZXNzQnJlYWtF
dmVuQ29tbWFuZChzdHJpbmcgY29tbWFuZCkKewogICAgdWxvbmcgdGlja2V0ID0gKHVsb25nKUV4
dHJhY3REb3VibGUoY29tbWFuZCwgInRpY2tldCIpOwogICAgaW50IGJ1ZmZlciA9IChpbnQpRXh0
cmFjdERvdWJsZShjb21tYW5kLCAiYnVmZmVyIiwgQnJlYWtFdmVuQnVmZmVyKTsKICAgIAogICAg
U2V0QnJlYWtFdmVuKHRpY2tldCwgYnVmZmVyKTsKfQoKLy8rLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp2b2lkIFByb2Nl
c3NTY2FsZU91dENvbW1hbmQoc3RyaW5nIGNvbW1hbmQpCnsKICAgIC8vIFNjYWxlIG91dDogY2xv
c2UgcG9ydGlvbnMgYXQgZGlmZmVyZW50IGxldmVscwogICAgdWxvbmcgdGlja2V0ID0gKHVsb25n
KUV4dHJhY3REb3VibGUoY29tbWFuZCwgInRpY2tldCIpOwogICAgCiAgICAvLyBMZXZlbCAxOiAz
MyUgYXQgY3VycmVudCBwcm9maXQKICAgIFByb2Nlc3NQYXJ0aWFsQ2xvc2VBdExldmVsKHRpY2tl
dCwgMzMuMCk7CiAgICAKICAgIC8vIFNldCB0cmFpbGluZyBmb3IgcmVtYWluZGVyCiAgICBpZiAo
RW5hYmxlVHJhaWxpbmcpCiAgICB7CiAgICAgICAgQWRkVHJhaWxpbmdQb3NpdGlvbih0aWNrZXQs
IDMwLCAxMCk7CiAgICB9Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9pZCBDaGVja0JyZWFrRXZlbigpCnsK
ICAgIGlmICghRW5hYmxlQnJlYWtFdmVuKSByZXR1cm47CiAgICAKICAgIGZvciAoaW50IGkgPSAw
OyBpIDwgQXJyYXlTaXplKHBvc2l0aW9ucyk7IGkrKykKICAgIHsKICAgICAgICBpZiAoIXBvc2l0
aW9uc1tpXS5icmVha0V2ZW5TZXQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoUG9zaXRpb25T
ZWxlY3RCeVRpY2tldChwb3NpdGlvbnNbaV0udGlja2V0KSkKICAgICAgICAgICAgewogICAgICAg
ICAgICAgICAgZG91YmxlIGN1cnJlbnRQcmljZSA9IChwb3NpdGlvbnNbaV0udHlwZSA9PSBQT1NJ
VElPTl9UWVBFX0JVWSkgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW1i
b2xJbmZvRG91YmxlKHBvc2l0aW9uc1tpXS5zeW1ib2wsIFNZTUJPTF9CSUQpIDoKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ltYm9sSW5mb0RvdWJsZShwb3NpdGlvbnNbaV0u
c3ltYm9sLCBTWU1CT0xfQVNLKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZG91
YmxlIHBvaW50ID0gU3ltYm9sSW5mb0RvdWJsZShwb3NpdGlvbnNbaV0uc3ltYm9sLCBTWU1CT0xf
UE9JTlQpOwogICAgICAgICAgICAgICAgZG91YmxlIHByb2ZpdFBvaW50cyA9IDA7CiAgICAgICAg
ICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnNbaV0udHlwZSA9PSBQT1NJVElP
Tl9UWVBFX0JVWSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwcm9maXRQ
b2ludHMgPSAoY3VycmVudFByaWNlIC0gcG9zaXRpb25zW2ldLm9wZW5QcmljZSkgLyBwb2ludDsK
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsK
ICAgICAgICAgICAgICAgICAgICBwcm9maXRQb2ludHMgPSAocG9zaXRpb25zW2ldLm9wZW5Qcmlj
ZSAtIGN1cnJlbnRQcmljZSkgLyBwb2ludDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
ICAgIAogICAgICAgICAgICAgICAgaWYgKHByb2ZpdFBvaW50cyA+PSBCcmVha0V2ZW5Qb2ludHMp
CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2V0QnJlYWtFdmVuKHBvc2l0
aW9uc1tpXS50aWNrZXQsIEJyZWFrRXZlbkJ1ZmZlcik7CiAgICAgICAgICAgICAgICAgICAgcG9z
aXRpb25zW2ldLmJyZWFrRXZlblNldCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAg
ICAgIH0KICAgICAgICB9CiAgICB9Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9pZCBDaGVja011bHRpVFAo
KQp7CiAgICBpZiAoIUVuYWJsZU11bHRpVFApIHJldHVybjsKICAgIAogICAgZm9yIChpbnQgaSA9
IEFycmF5U2l6ZShtdWx0aVRQUG9zaXRpb25zKSAtIDE7IGkgPj0gMDsgaS0tKQogICAgewogICAg
ICAgIGlmIChQb3NpdGlvblNlbGVjdEJ5VGlja2V0KG11bHRpVFBQb3NpdGlvbnNbaV0udGlja2V0
KSkKICAgICAgICB7CiAgICAgICAgICAgIGRvdWJsZSBjdXJyZW50UHJpY2UgPSAoUG9zaXRpb25H
ZXRJbnRlZ2VyKFBPU0lUSU9OX1RZUEUpID09IFBPU0lUSU9OX1RZUEVfQlVZKSA/CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgU3ltYm9sSW5mb0RvdWJsZShQb3NpdGlvbkdldFN0cmlu
ZyhQT1NJVElPTl9TWU1CT0wpLCBTWU1CT0xfQklEKSA6CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgU3ltYm9sSW5mb0RvdWJsZShQb3NpdGlvbkdldFN0cmluZyhQT1NJVElPTl9TWU1C
T0wpLCBTWU1CT0xfQVNLKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIEVOVU1fUE9TSVRJT05f
VFlQRSB0eXBlID0gKEVOVU1fUE9TSVRJT05fVFlQRSlQb3NpdGlvbkdldEludGVnZXIoUE9TSVRJ
T05fVFlQRSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDaGVjayBlYWNoIFRQIGxldmVs
CiAgICAgICAgICAgIGlmIChtdWx0aVRQUG9zaXRpb25zW2ldLmN1cnJlbnRTdGVwID09IDAgJiYg
CiAgICAgICAgICAgICAgICAoKHR5cGUgPT0gUE9TSVRJT05fVFlQRV9CVVkgJiYgY3VycmVudFBy
aWNlID49IG11bHRpVFBQb3NpdGlvbnNbaV0udHAxKSB8fAogICAgICAgICAgICAgICAgICh0eXBl
ID09IFBPU0lUSU9OX1RZUEVfU0VMTCAmJiBjdXJyZW50UHJpY2UgPD0gbXVsdGlUUFBvc2l0aW9u
c1tpXS50cDEpKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgUHJvY2Vzc1BhcnRpYWxD
bG9zZUF0TGV2ZWwobXVsdGlUUFBvc2l0aW9uc1tpXS50aWNrZXQsIG11bHRpVFBQb3NpdGlvbnNb
aV0udm9sdW1lMSk7CiAgICAgICAgICAgICAgICBtdWx0aVRQUG9zaXRpb25zW2ldLmN1cnJlbnRT
dGVwID0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChtdWx0aVRQUG9zaXRp
b25zW2ldLmN1cnJlbnRTdGVwID09IDEgJiYgbXVsdGlUUFBvc2l0aW9uc1tpXS50cDIgPiAwICYm
CiAgICAgICAgICAgICAgICAgICAgKCh0eXBlID09IFBPU0lUSU9OX1RZUEVfQlVZICYmIGN1cnJl
bnRQcmljZSA+PSBtdWx0aVRQUG9zaXRpb25zW2ldLnRwMikgfHwKICAgICAgICAgICAgICAgICAg
ICAgKHR5cGUgPT0gUE9TSVRJT05fVFlQRV9TRUxMICYmIGN1cnJlbnRQcmljZSA8PSBtdWx0aVRQ
UG9zaXRpb25zW2ldLnRwMikpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBQcm9jZXNz
UGFydGlhbENsb3NlQXRMZXZlbChtdWx0aVRQUG9zaXRpb25zW2ldLnRpY2tldCwgbXVsdGlUUFBv
c2l0aW9uc1tpXS52b2x1bWUyKTsKICAgICAgICAgICAgICAgIG11bHRpVFBQb3NpdGlvbnNbaV0u
Y3VycmVudFN0ZXAgPSAyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG11bHRp
VFBQb3NpdGlvbnNbaV0uY3VycmVudFN0ZXAgPT0gMiAmJiBtdWx0aVRQUG9zaXRpb25zW2ldLnRw
MyA+IDAgJiYKICAgICAgICAgICAgICAgICAgICAoKHR5cGUgPT0gUE9TSVRJT05fVFlQRV9CVVkg
JiYgY3VycmVudFByaWNlID49IG11bHRpVFBQb3NpdGlvbnNbaV0udHAzKSB8fAogICAgICAgICAg
ICAgICAgICAgICAodHlwZSA9PSBQT1NJVElPTl9UWVBFX1NFTEwgJiYgY3VycmVudFByaWNlIDw9
IG11bHRpVFBQb3NpdGlvbnNbaV0udHAzKSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAg
IC8vIENsb3NlIHJlbWFpbmluZyBwb3NpdGlvbgogICAgICAgICAgICAgICAgTXFsVHJhZGUgdHJh
ZGU7CiAgICAgICAgICAgICAgICB0cmFkZS5Qb3NpdGlvbkNsb3NlKG11bHRpVFBQb3NpdGlvbnNb
aV0udGlja2V0KTsKICAgICAgICAgICAgICAgIEFycmF5UmVtb3ZlKG11bHRpVFBQb3NpdGlvbnMs
IGksIDEpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAg
ICAgICAgICAgIC8vIFBvc2l0aW9uIGNsb3NlZCwgcmVtb3ZlIGZyb20gdHJhY2tpbmcKICAgICAg
ICAgICAgQXJyYXlSZW1vdmUobXVsdGlUUFBvc2l0aW9ucywgaSwgMSk7CiAgICAgICAgfQogICAg
fQp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0rCnZvaWQgU2V0QnJlYWtFdmVuKHVsb25nIHRpY2tldCwgaW50IGJ1
ZmZlcikKewogICAgaWYgKCFQb3NpdGlvblNlbGVjdEJ5VGlja2V0KHRpY2tldCkpIHJldHVybjsK
ICAgIAogICAgc3RyaW5nIHN5bWJvbCA9IFBvc2l0aW9uR2V0U3RyaW5nKFBPU0lUSU9OX1NZTUJP
TCk7CiAgICBFTlVNX1BPU0lUSU9OX1RZUEUgdHlwZSA9IChFTlVNX1BPU0lUSU9OX1RZUEUpUG9z
aXRpb25HZXRJbnRlZ2VyKFBPU0lUSU9OX1RZUEUpOwogICAgZG91YmxlIG9wZW5QcmljZSA9IFBv
c2l0aW9uR2V0RG91YmxlKFBPU0lUSU9OX1BSSUNFX09QRU4pOwogICAgZG91YmxlIGN1cnJlbnRT
TCA9IFBvc2l0aW9uR2V0RG91YmxlKFBPU0lUSU9OX1NMKTsKICAgIGRvdWJsZSBwb2ludCA9IFN5
bWJvbEluZm9Eb3VibGUoc3ltYm9sLCBTWU1CT0xfUE9JTlQpOwogICAgaW50IGRpZ2l0cyA9IChp
bnQpU3ltYm9sSW5mb0ludGVnZXIoc3ltYm9sLCBTWU1CT0xfRElHSVRTKTsKICAgIAogICAgZG91
YmxlIG5ld1NMID0gMDsKICAgIAogICAgaWYgKHR5cGUgPT0gUE9TSVRJT05fVFlQRV9CVVkpCiAg
ICB7CiAgICAgICAgbmV3U0wgPSBOb3JtYWxpemVEb3VibGUob3BlblByaWNlICsgYnVmZmVyICog
cG9pbnQsIGRpZ2l0cyk7CiAgICAgICAgaWYgKG5ld1NMIDw9IGN1cnJlbnRTTCkgcmV0dXJuOyAg
Ly8gQWxyZWFkeSBiZXR0ZXIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBuZXdTTCA9IE5v
cm1hbGl6ZURvdWJsZShvcGVuUHJpY2UgLSBidWZmZXIgKiBwb2ludCwgZGlnaXRzKTsKICAgICAg
ICBpZiAoY3VycmVudFNMID4gMCAmJiBuZXdTTCA+PSBjdXJyZW50U0wpIHJldHVybjsgIC8vIEFs
cmVhZHkgYmV0dGVyCiAgICB9CiAgICAKICAgIE1xbFRyYWRlIHRyYWRlOwogICAgaWYgKHRyYWRl
LlBvc2l0aW9uTW9kaWZ5KHRpY2tldCwgbmV3U0wsIFBvc2l0aW9uR2V0RG91YmxlKFBPU0lUSU9O
X1RQKSkpCiAgICB7CiAgICAgICAgV3JpdGVTdGF0dXMoImJyZWFrX2V2ZW5fc2V0IiwgCiAgICAg
ICAgICAgICAgICAgICBTdHJpbmdGb3JtYXQoIkJyZWFrLWV2ZW4gc2V0IGZvciBwb3NpdGlvbiAl
ZCBhdCAlLjVmIiwgdGlja2V0LCBuZXdTTCkpOwogICAgfQp9CgovLystLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnZvaWQg
VXBkYXRlUG9zaXRpb25zKCkKewogICAgQXJyYXlSZXNpemUocG9zaXRpb25zLCAwKTsKICAgIAog
ICAgZm9yIChpbnQgaSA9IFBvc2l0aW9uc1RvdGFsKCkgLSAxOyBpID49IDA7IGktLSkKICAgIHsK
ICAgICAgICBpZiAoUG9zaXRpb25TZWxlY3RCeUluZGV4KGkpKQogICAgICAgIHsKICAgICAgICAg
ICAgaWYgKFBvc2l0aW9uR2V0SW50ZWdlcihQT1NJVElPTl9NQUdJQykgPT0gTWFnaWNOdW1iZXIp
CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGludCBzaXplID0gQXJyYXlTaXplKHBvc2l0
aW9ucyk7CiAgICAgICAgICAgICAgICBBcnJheVJlc2l6ZShwb3NpdGlvbnMsIHNpemUgKyAxKTsK
ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcG9zaXRpb25zW3NpemVdLnRpY2tldCA9
IFBvc2l0aW9uR2V0SW50ZWdlcihQT1NJVElPTl9USUNLRVQpOwogICAgICAgICAgICAgICAgcG9z
aXRpb25zW3NpemVdLnN5bWJvbCA9IFBvc2l0aW9uR2V0U3RyaW5nKFBPU0lUSU9OX1NZTUJPTCk7
CiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbc2l6ZV0udHlwZSA9IChFTlVNX1BPU0lUSU9OX1RZ
UEUpUG9zaXRpb25HZXRJbnRlZ2VyKFBPU0lUSU9OX1RZUEUpOwogICAgICAgICAgICAgICAgcG9z
aXRpb25zW3NpemVdLnZvbHVtZSA9IFBvc2l0aW9uR2V0RG91YmxlKFBPU0lUSU9OX1ZPTFVNRSk7
CiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbc2l6ZV0ub3BlblByaWNlID0gUG9zaXRpb25HZXRE
b3VibGUoUE9TSVRJT05fUFJJQ0VfT1BFTik7CiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbc2l6
ZV0uc2wgPSBQb3NpdGlvbkdldERvdWJsZShQT1NJVElPTl9TTCk7CiAgICAgICAgICAgICAgICBw
b3NpdGlvbnNbc2l6ZV0udHAgPSBQb3NpdGlvbkdldERvdWJsZShQT1NJVElPTl9UUCk7CiAgICAg
ICAgICAgICAgICBwb3NpdGlvbnNbc2l6ZV0ucHJvZml0ID0gUG9zaXRpb25HZXREb3VibGUoUE9T
SVRJT05fUFJPRklUKTsKICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tzaXplXS5zd2FwID0gUG9z
aXRpb25HZXREb3VibGUoUE9TSVRJT05fU1dBUCk7CiAgICAgICAgICAgICAgICBwb3NpdGlvbnNb
c2l6ZV0uY29tbWlzc2lvbiA9IFBvc2l0aW9uR2V0RG91YmxlKFBPU0lUSU9OX0NPTU1JU1NJT04p
OwogICAgICAgICAgICAgICAgcG9zaXRpb25zW3NpemVdLm9wZW5UaW1lID0gKGRhdGV0aW1lKVBv
c2l0aW9uR2V0SW50ZWdlcihQT1NJVElPTl9USU1FKTsKICAgICAgICAgICAgICAgIHBvc2l0aW9u
c1tzaXplXS5jb21tZW50ID0gUG9zaXRpb25HZXRTdHJpbmcoUE9TSVRJT05fQ09NTUVOVCk7CiAg
ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgdHJhY2tl
ZCBmb3IgQkUvcGFydGlhbAogICAgICAgICAgICAgICAgYm9vbCBmb3VuZCA9IGZhbHNlOwogICAg
ICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBBcnJheVNpemUocG9zaXRpb25zKSAtIDE7
IGorKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25z
W2pdLnRpY2tldCA9PSBwb3NpdGlvbnNbc2l6ZV0udGlja2V0KQogICAgICAgICAgICAgICAgICAg
IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zW3NpemVdLmJyZWFrRXZlblNldCA9
IHBvc2l0aW9uc1tqXS5icmVha0V2ZW5TZXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0
aW9uc1tzaXplXS5wYXJ0aWFsQ2xvc2VkID0gcG9zaXRpb25zW2pdLnBhcnRpYWxDbG9zZWQ7CiAg
ICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tzaXplXS5pbml0aWFsVm9sdW1lID0gcG9z
aXRpb25zW2pdLmluaXRpYWxWb2x1bWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9u
c1tzaXplXS5wYXJ0aWFsQ2xvc2VTdGVwID0gcG9zaXRpb25zW2pdLnBhcnRpYWxDbG9zZVN0ZXA7
CiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAg
ICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAg
ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKQogICAgICAgICAgICAgICAg
ewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tzaXplXS5icmVha0V2ZW5TZXQgPSBmYWxz
ZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnNbc2l6ZV0ucGFydGlhbENsb3NlZCA9IGZh
bHNlOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tzaXplXS5pbml0aWFsVm9sdW1lID0g
cG9zaXRpb25zW3NpemVdLnZvbHVtZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnNbc2l6
ZV0ucGFydGlhbENsb3NlU3RlcCA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0K
ICAgICAgICB9CiAgICB9CiAgICAKICAgIFdyaXRlRW5oYW5jZWRQb3NpdGlvbnMoKTsKfQoKLy8r
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tKwp2b2lkIFdyaXRlRW5oYW5jZWRQb3NpdGlvbnMoKQp7CiAgICBpbnQgaGFuZGxl
ID0gRmlsZU9wZW4oUG9zaXRpb25zRmlsZSwgRklMRV9XUklURSB8IEZJTEVfVFhUIHwgRklMRV9B
TlNJKTsKICAgIGlmIChoYW5kbGUgPT0gSU5WQUxJRF9IQU5ETEUpIHJldHVybjsKICAgIAogICAg
c3RyaW5nIGpzb24gPSAiWyI7CiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgQXJyYXlTaXpl
KHBvc2l0aW9ucyk7IGkrKykKICAgIHsKICAgICAgICBpZiAoaSA+IDApIGpzb24gKz0gIiwiOwog
ICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSBydW5uaW5nIFAmTCBwZXJjZW50YWdlCiAgICAg
ICAgZG91YmxlIHBubFBlcmNlbnQgPSAwOwogICAgICAgIGlmIChwb3NpdGlvbnNbaV0ub3BlblBy
aWNlID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIGRvdWJsZSBjdXJyZW50UHJpY2UgPSAocG9z
aXRpb25zW2ldLnR5cGUgPT0gUE9TSVRJT05fVFlQRV9CVVkpID8KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBTeW1ib2xJbmZvRG91YmxlKHBvc2l0aW9uc1tpXS5zeW1ib2wsIFNZTUJP
TF9CSUQpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeW1ib2xJbmZvRG91Ymxl
KHBvc2l0aW9uc1tpXS5zeW1ib2wsIFNZTUJPTF9BU0spOwogICAgICAgICAgICAKICAgICAgICAg
ICAgaWYgKHBvc2l0aW9uc1tpXS50eXBlID09IFBPU0lUSU9OX1RZUEVfQlVZKQogICAgICAgICAg
ICAgICAgcG5sUGVyY2VudCA9ICgoY3VycmVudFByaWNlIC0gcG9zaXRpb25zW2ldLm9wZW5Qcmlj
ZSkgLyBwb3NpdGlvbnNbaV0ub3BlblByaWNlKSAqIDEwMDsKICAgICAgICAgICAgZWxzZQogICAg
ICAgICAgICAgICAgcG5sUGVyY2VudCA9ICgocG9zaXRpb25zW2ldLm9wZW5QcmljZSAtIGN1cnJl
bnRQcmljZSkgLyBwb3NpdGlvbnNbaV0ub3BlblByaWNlKSAqIDEwMDsKICAgICAgICB9CiAgICAg
ICAgCiAgICAgICAganNvbiArPSBTdHJpbmdGb3JtYXQoCiAgICAgICAgICAgICJ7XCJ0aWNrZXRc
IjolZCxcInN5bWJvbFwiOlwiJXNcIixcInR5cGVcIjpcIiVzXCIsXCJ2b2x1bWVcIjolLjJmLCIg
KwogICAgICAgICAgICAiXCJpbml0aWFsX3ZvbHVtZVwiOiUuMmYsXCJvcGVuX3ByaWNlXCI6JS41
ZixcInNsXCI6JS41ZixcInRwXCI6JS41ZiwiICsKICAgICAgICAgICAgIlwicHJvZml0XCI6JS4y
ZixcInN3YXBcIjolLjJmLFwiY29tbWlzc2lvblwiOiUuMmYsXCJwbmxfcGVyY2VudFwiOiUuMmYs
IiArCiAgICAgICAgICAgICJcIm9wZW5fdGltZVwiOlwiJXNcIixcImNvbW1lbnRcIjpcIiVzXCIs
XCJicmVha19ldmVuX3NldFwiOiVzLCIgKwogICAgICAgICAgICAiXCJwYXJ0aWFsX2Nsb3NlZFwi
OiVzLFwicGFydGlhbF9jbG9zZV9zdGVwXCI6JWR9IiwKICAgICAgICAgICAgcG9zaXRpb25zW2ld
LnRpY2tldCwKICAgICAgICAgICAgcG9zaXRpb25zW2ldLnN5bWJvbCwKICAgICAgICAgICAgKHBv
c2l0aW9uc1tpXS50eXBlID09IFBPU0lUSU9OX1RZUEVfQlVZKSA/ICJCVVkiIDogIlNFTEwiLAog
ICAgICAgICAgICBwb3NpdGlvbnNbaV0udm9sdW1lLAogICAgICAgICAgICBwb3NpdGlvbnNbaV0u
aW5pdGlhbFZvbHVtZSwKICAgICAgICAgICAgcG9zaXRpb25zW2ldLm9wZW5QcmljZSwKICAgICAg
ICAgICAgcG9zaXRpb25zW2ldLnNsLAogICAgICAgICAgICBwb3NpdGlvbnNbaV0udHAsCiAgICAg
ICAgICAgIHBvc2l0aW9uc1tpXS5wcm9maXQsCiAgICAgICAgICAgIHBvc2l0aW9uc1tpXS5zd2Fw
LAogICAgICAgICAgICBwb3NpdGlvbnNbaV0uY29tbWlzc2lvbiwKICAgICAgICAgICAgcG5sUGVy
Y2VudCwKICAgICAgICAgICAgVGltZVRvU3RyaW5nKHBvc2l0aW9uc1tpXS5vcGVuVGltZSwgVElN
RV9EQVRFIHwgVElNRV9TRUNPTkRTKSwKICAgICAgICAgICAgcG9zaXRpb25zW2ldLmNvbW1lbnQs
CiAgICAgICAgICAgIHBvc2l0aW9uc1tpXS5icmVha0V2ZW5TZXQgPyAidHJ1ZSIgOiAiZmFsc2Ui
LAogICAgICAgICAgICBwb3NpdGlvbnNbaV0ucGFydGlhbENsb3NlZCA/ICJ0cnVlIiA6ICJmYWxz
ZSIsCiAgICAgICAgICAgIHBvc2l0aW9uc1tpXS5wYXJ0aWFsQ2xvc2VTdGVwCiAgICAgICAgKTsK
ICAgIH0KICAgIAogICAganNvbiArPSAiXSI7CiAgICAKICAgIEZpbGVXcml0ZVN0cmluZyhoYW5k
bGUsIGpzb24pOwogICAgRmlsZUNsb3NlKGhhbmRsZSk7Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9pZCBX
cml0ZUhlYXJ0YmVhdCgpCnsKICAgIFdyaXRlU3RhdHVzKCJoZWFydGJlYXQiLCBTdHJpbmdGb3Jt
YXQoIkFjdGl2ZSB8IFBvc2l0aW9uczogJWQgfCBDb25uZWN0ZWQ6ICVzIiwgCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXlTaXplKHBvc2l0aW9ucyksCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVybWluYWxJbmZvSW50ZWdlcihU
RVJNSU5BTF9DT05ORUNURUQpID8gIlllcyIgOiAiTm8iKSk7Cn0KCi8vKy0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9p
ZCBXcml0ZVN0YXR1cyhzdHJpbmcgdHlwZSwgc3RyaW5nIG1lc3NhZ2UpCnsKICAgIGludCBoYW5k
bGUgPSBGaWxlT3BlbihTdGF0dXNGaWxlLCBGSUxFX1dSSVRFIHwgRklMRV9UWFQgfCBGSUxFX0FO
U0kpOwogICAgaWYgKGhhbmRsZSA9PSBJTlZBTElEX0hBTkRMRSkgcmV0dXJuOwogICAgCiAgICBz
dHJpbmcganNvbiA9IFN0cmluZ0Zvcm1hdCgKICAgICAgICAie1widHlwZVwiOlwiJXNcIixcIm1l
c3NhZ2VcIjpcIiVzXCIsXCJ0aW1lc3RhbXBcIjpcIiVzXCIsIiArCiAgICAgICAgIlwiY29ubmVj
dGVkXCI6JXMsXCJwb3NpdGlvbnNcIjolZCxcIm9yZGVyc1wiOiVkLCIgKwogICAgICAgICJcImFj
Y291bnRfY29ubmVjdGVkXCI6JXMsXCJ0cmFkZV9hbGxvd2VkXCI6JXN9IiwKICAgICAgICB0eXBl
LAogICAgICAgIG1lc3NhZ2UsCiAgICAgICAgVGltZVRvU3RyaW5nKFRpbWVDdXJyZW50KCksIFRJ
TUVfREFURSB8IFRJTUVfU0VDT05EUyksCiAgICAgICAgVGVybWluYWxJbmZvSW50ZWdlcihURVJN
SU5BTF9DT05ORUNURUQpID8gInRydWUiIDogImZhbHNlIiwKICAgICAgICBQb3NpdGlvbnNUb3Rh
bCgpLAogICAgICAgIE9yZGVyc1RvdGFsKCksCiAgICAgICAgQWNjb3VudEluZm9JbnRlZ2VyKEFD
Q09VTlRfQ09OTkVDVEVEKSA/ICJ0cnVlIiA6ICJmYWxzZSIsCiAgICAgICAgQWNjb3VudEluZm9J
bnRlZ2VyKEFDQ09VTlRfVFJBREVfQUxMT1dFRCkgPyAidHJ1ZSIgOiAiZmFsc2UiCiAgICApOwog
ICAgCiAgICBGaWxlV3JpdGVTdHJpbmcoaGFuZGxlLCBqc29uKTsKICAgIEZpbGVDbG9zZShoYW5k
bGUpOwp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0rCnZvaWQgV3JpdGVSZXN1bHQoc3RyaW5nIGlkLCBzdHJpbmcg
c3RhdHVzLCB1bG9uZyB0aWNrZXQsIHN0cmluZyBtZXNzYWdlLCBkb3VibGUgcHJpY2UpCnsKICAg
IGludCBoYW5kbGUgPSBGaWxlT3BlbihSZXN1bHRGaWxlLCBGSUxFX1dSSVRFIHwgRklMRV9UWFQg
fCBGSUxFX0FOU0kpOwogICAgaWYgKGhhbmRsZSA9PSBJTlZBTElEX0hBTkRMRSkgcmV0dXJuOwog
ICAgCiAgICAvLyBJbmNsdWRlIGNvbXByZWhlbnNpdmUgYWNjb3VudCBzdGF0ZQogICAgc3RyaW5n
IGpzb24gPSBTdHJpbmdGb3JtYXQoCiAgICAgICAgIntcImlkXCI6XCIlc1wiLFwic3RhdHVzXCI6
XCIlc1wiLFwidGlja2V0XCI6JWQsXCJtZXNzYWdlXCI6XCIlc1wiLCIgKwogICAgICAgICJcInBy
aWNlXCI6JS41ZixcInRpbWVzdGFtcFwiOlwiJXNcIixcImFjY291bnRcIjp7IiArCiAgICAgICAg
IlwiYmFsYW5jZVwiOiUuMmYsXCJlcXVpdHlcIjolLjJmLFwibWFyZ2luXCI6JS4yZiwiICsKICAg
ICAgICAiXCJmcmVlX21hcmdpblwiOiUuMmYsXCJwcm9maXRcIjolLjJmfX0iLAogICAgICAgIGlk
LCBzdGF0dXMsIHRpY2tldCwgbWVzc2FnZSwgcHJpY2UsCiAgICAgICAgVGltZVRvU3RyaW5nKFRp
bWVDdXJyZW50KCksIFRJTUVfREFURSB8IFRJTUVfU0VDT05EUyksCiAgICAgICAgQWNjb3VudElu
Zm9Eb3VibGUoQUNDT1VOVF9CQUxBTkNFKSwKICAgICAgICBBY2NvdW50SW5mb0RvdWJsZShBQ0NP
VU5UX0VRVUlUWSksCiAgICAgICAgQWNjb3VudEluZm9Eb3VibGUoQUNDT1VOVF9NQVJHSU4pLAog
ICAgICAgIEFjY291bnRJbmZvRG91YmxlKEFDQ09VTlRfTUFSR0lOX0ZSRUUpLAogICAgICAgIEFj
Y291bnRJbmZvRG91YmxlKEFDQ09VTlRfUFJPRklUKQogICAgKTsKICAgIAogICAgRmlsZVdyaXRl
U3RyaW5nKGhhbmRsZSwganNvbik7CiAgICBGaWxlQ2xvc2UoaGFuZGxlKTsKfQoKLy8rLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tKwovLyBIZWxwZXIgZnVuY3Rpb25zCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKZG91YmxlIENhbGN1bGF0ZURh
aWx5UEwoKQp7CiAgICAvLyBUaGlzIHdvdWxkIG5lZWQgdG8gdHJhY2sgYmFsYW5jZSBhdCBkYXkg
c3RhcnQKICAgIC8vIEZvciBub3csIHJldHVybiBjdXJyZW50IHByb2ZpdAogICAgcmV0dXJuIEFj
Y291bnRJbmZvRG91YmxlKEFDQ09VTlRfUFJPRklUKTsKfQoKLy8rLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp2b2lkIFBy
b2Nlc3NQYXJ0aWFsQ2xvc2VBdExldmVsKHVsb25nIHRpY2tldCwgZG91YmxlIHBlcmNlbnQpCnsK
ICAgIHN0cmluZyBjb21tYW5kID0gU3RyaW5nRm9ybWF0KCJ7XCJhY3Rpb25cIjpcImNsb3NlX3Bh
cnRpYWxcIixcInRpY2tldFwiOiVkLFwicGVyY2VudFwiOiUuMWZ9IiwgCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHRpY2tldCwgcGVyY2VudCk7CiAgICBQcm9jZXNzRW5oYW5jZWRQ
YXJ0aWFsQ2xvc2UoY29tbWFuZCk7Cn0KCi8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKdm9pZCBBZGRNdWx0aVRQUG9z
aXRpb24odWxvbmcgdGlja2V0LCBkb3VibGUgdHAxLCBkb3VibGUgdHAyLCBkb3VibGUgdHAzLCAK
ICAgICAgICAgICAgICAgICAgICAgICBkb3VibGUgdm9sMSwgZG91YmxlIHZvbDIsIGRvdWJsZSB2
b2wzKQp7CiAgICBpbnQgc2l6ZSA9IEFycmF5U2l6ZShtdWx0aVRQUG9zaXRpb25zKTsKICAgIEFy
cmF5UmVzaXplKG11bHRpVFBQb3NpdGlvbnMsIHNpemUgKyAxKTsKICAgIAogICAgbXVsdGlUUFBv
c2l0aW9uc1tzaXplXS50aWNrZXQgPSB0aWNrZXQ7CiAgICBtdWx0aVRQUG9zaXRpb25zW3NpemVd
LnRwMSA9IHRwMTsKICAgIG11bHRpVFBQb3NpdGlvbnNbc2l6ZV0udHAyID0gdHAyOwogICAgbXVs
dGlUUFBvc2l0aW9uc1tzaXplXS50cDMgPSB0cDM7CiAgICBtdWx0aVRQUG9zaXRpb25zW3NpemVd
LnZvbHVtZTEgPSB2b2wxOwogICAgbXVsdGlUUFBvc2l0aW9uc1tzaXplXS52b2x1bWUyID0gdm9s
MjsKICAgIG11bHRpVFBQb3NpdGlvbnNbc2l6ZV0udm9sdW1lMyA9IHZvbDM7CiAgICBtdWx0aVRQ
UG9zaXRpb25zW3NpemVdLmN1cnJlbnRTdGVwID0gMDsKfQoKLy8rLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp1bG9uZyBH
ZXRMYXN0VGlja2V0KCkKewogICAgLy8gR2V0IHRpY2tldCBvZiBsYXN0IG9wZW5lZCBwb3NpdGlv
bgogICAgZm9yIChpbnQgaSA9IFBvc2l0aW9uc1RvdGFsKCkgLSAxOyBpID49IDA7IGktLSkKICAg
IHsKICAgICAgICBpZiAoUG9zaXRpb25TZWxlY3RCeUluZGV4KGkpKQogICAgICAgIHsKICAgICAg
ICAgICAgaWYgKFBvc2l0aW9uR2V0SW50ZWdlcihQT1NJVElPTl9NQUdJQykgPT0gTWFnaWNOdW1i
ZXIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBQb3NpdGlvbkdldEludGVn
ZXIoUE9TSVRJT05fVElDS0VUKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJl
dHVybiAwOwp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnN0cmluZyBFeHRyYWN0U3RyaW5nKHN0cmluZyBqc29u
LCBzdHJpbmcga2V5KQp7CiAgICBzdHJpbmcgc2VhcmNoS2V5ID0gIlwiIiArIGtleSArICJcIjpc
IiI7CiAgICBpbnQgc3RhcnQgPSBTdHJpbmdGaW5kKGpzb24sIHNlYXJjaEtleSk7CiAgICBpZiAo
c3RhcnQgPCAwKSByZXR1cm4gIiI7CiAgICAKICAgIHN0YXJ0ICs9IFN0cmluZ0xlbihzZWFyY2hL
ZXkpOwogICAgaW50IGVuZCA9IFN0cmluZ0ZpbmQoanNvbiwgIlwiIiwgc3RhcnQpOwogICAgaWYg
KGVuZCA8IDApIHJldHVybiAiIjsKICAgIAogICAgcmV0dXJuIFN0cmluZ1N1YnN0cihqc29uLCBz
dGFydCwgZW5kIC0gc3RhcnQpOwp9CgovLystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCmRvdWJsZSBFeHRyYWN0RG91Ymxl
KHN0cmluZyBqc29uLCBzdHJpbmcga2V5LCBkb3VibGUgZGVmYXVsdFZhbHVlID0gMCkKewogICAg
c3RyaW5nIHNlYXJjaEtleSA9ICJcIiIgKyBrZXkgKyAiXCI6IjsKICAgIGludCBzdGFydCA9IFN0
cmluZ0ZpbmQoanNvbiwgc2VhcmNoS2V5KTsKICAgIGlmIChzdGFydCA8IDApIHJldHVybiBkZWZh
dWx0VmFsdWU7CiAgICAKICAgIHN0YXJ0ICs9IFN0cmluZ0xlbihzZWFyY2hLZXkpOwogICAgaW50
IGVuZCA9IFN0cmluZ0ZpbmQoanNvbiwgIiwiLCBzdGFydCk7CiAgICBpZiAoZW5kIDwgMCkgZW5k
ID0gU3RyaW5nRmluZChqc29uLCAifSIsIHN0YXJ0KTsKICAgIGlmIChlbmQgPCAwKSByZXR1cm4g
ZGVmYXVsdFZhbHVlOwogICAgCiAgICBzdHJpbmcgdmFsdWUgPSBTdHJpbmdTdWJzdHIoanNvbiwg
c3RhcnQsIGVuZCAtIHN0YXJ0KTsKICAgIHJldHVybiBTdHJpbmdUb0RvdWJsZSh2YWx1ZSk7Cn0K
Ci8vKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLSsKYm9vbCBFeHRyYWN0Qm9vbChzdHJpbmcganNvbiwgc3RyaW5nIGtleSwg
Ym9vbCBkZWZhdWx0VmFsdWUgPSBmYWxzZSkKewogICAgc3RyaW5nIHNlYXJjaEtleSA9ICJcIiIg
KyBrZXkgKyAiXCI6IjsKICAgIGludCBzdGFydCA9IFN0cmluZ0ZpbmQoanNvbiwgc2VhcmNoS2V5
KTsKICAgIGlmIChzdGFydCA8IDApIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICAKICAgIHN0YXJ0
ICs9IFN0cmluZ0xlbihzZWFyY2hLZXkpOwogICAgc3RyaW5nIHZhbHVlID0gU3RyaW5nU3Vic3Ry
KGpzb24sIHN0YXJ0LCA0KTsKICAgIAogICAgcmV0dXJuICh2YWx1ZSA9PSAidHJ1ZSIpOwp9Cgov
LyAuLi4gKEFkZGl0aW9uYWwgaGVscGVyIGZ1bmN0aW9ucyBmcm9tIHYyIGZvciBzZWN1cml0eSwg
dmFsaWRhdGlvbiwgZXRjLik=
